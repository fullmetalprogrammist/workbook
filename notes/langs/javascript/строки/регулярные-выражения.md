---
title: "Регулярные выражения"
parent: "Строки"
layout: default
---

# Синтаксис регулярок

## Как оформлять

Регулярки обрамляются слешами `/`, для них это как кавычки для строки:

```
/^(\+7|8)\(\d{3}\)\d{3}-\d{2}-\d{2}$/   # /регулярка/флаги
```

### Регулярка фиксированная

Т.е. в ней нет динамически подставляемых значений

```javascript
if ( /^(\+7|8)\(\d{3}\)\d{3}-\d{2}-\d{2}$/.test('8(495)456-78-90') ) { ... }
```

### Регулярка с вычисляемыми значениями

В этом случае нужен конструктор:

```javascript
function findWords(text, searchWord) {
  const regex = new RegExp(`\\b${searchWord}\\b`, 'gi');
  return text.match(regex);
}
```



## Символы (что ищем)

- `\d` - цифра
  - `\D` - не цифра
- `\s` - пробельный символ (пробел, таб, перенос строки и т.д.)
  - `\S` - не пробельный символ
- `\w` - буква (большая или маленькая), цифра или _
  - Может глючить с кириллицей, в зависимости от окружения
  - Надежная альтернатива для кириллицы `[a-zA-Zа-яА-ЯёЁ0-9_]`
  - `\W` - все, что не буква, не цифра и не _
- `.` - любой символ
- `[abc]` - любой из указанных
- `[^abc]` - любой кроме указанных

Каждый пункт нужно воспринимать как ОДИН символ. Т.е. например выражение `[ab{3}]` означает "любой символ из `a`, `b`, `{`, `3`, `}`". В данном случае `{3}` это не квантификатор, а просто перечисление символов.

## Квантификаторы (сколько раз искомое повторяется)

- `{3}` - ровно 3 раза
- `{2,}` - 2 и более раза
- `{2,5}` - от 2 до 5 раз
- `+` - 1 и более раз, аналог `{1,}`
- `*` - 0 и более раз, аналог `{0,}`
- `?` - 0 или 1 раз

Пример:

```
\d{3}     // три цифры
\d*       // ноль и более цифр
\d?       // ноль или одна цифра
```

## Позиция

- `^` - в начале строки
- `$` - в конце строки
- `\b` - на границе слова



## Альтернатива

- `a|b` - "a" или "b"
- `(ab|cd)` - "ab" или "cd", используется группировка

## Группировка

```
Группировка
(\(\d{3}\)|\d{3})  // либо (123), либо 123
```

```
(abc)    - обычная группа (запоминает)
(?:abc)  - группа без запоминания
(a|b)    - ИЛИ (a или b)
```

## Диапазоны

- `[a-z]` - символы с "a" до "z"
- `[a-zA-Z]` - два диапазона
- `[a-ezx]` - диапазон плюс два отдельных символа, "a-e" или "z" или "x"

# Экранирование

Символы, которые могут требовать экранирования, потому что имеют специальное значение:

```
.  *  +  ?  ^  $  {  }  [  ]  (  )  |  \  /
```

Экранируется слешем `\`

## Вне [ ]

```
\.     // обычная точка (не "любой символ")
\*     // обычная звездочка (не "ноль или больше")
\+     // обычный плюс (не "один или больше")
\?     // обычный вопросик (не "ноль или один")
\[     // обычная открывающая скобка
\\     // обычный обратный слеш
```

## Внутри [ ]

```
[[\]\\]    // найти [ или ] (экранировать только ] и \ )
[\^]       // найти ^ (только если он первый, иначе не нужно)
[-]        // найти - (только если не в середине диапазона)
```

TODO: грязноватый раздел, дополнять по мере практического использования

# Флаги

todo

# Примеры

```
Задача	Пример	Решение
Проверить формат	телефон, email	/шаблон/ с ^ и $
Найти все вхождения	хештеги, слова	/шаблон/g
Извлечь данные	дата, имя	группы ( )
Заменить	формат даты	.replace() с $1
Разделить	CSV, текст	.split()
```

