---
title: "Механизмы движка"
layout: default
parent: "JavaScript"
---





# Жизненный цикл скрипта

- Браузер
  - Скачивает скрипт
  - Парсит
    - Формирует AST (Abstract Syntax Tree) на основе исходного кода
    - Формирование окружений
  - Компилирует
    - На основе AST получается байт-код
  - Выполняет
    - Байт-код выполняется
    - Переменным присваиваются значения
    - Выполняются функции



# hoisting

- hoisting ("всплытие")
  - Это механизм языка
    - Описан в спецификации ECMAScript
    - Реализован на уровне движков
  - В чем суть
    - Идентификатор (имя переменной, функции), где бы в исходном коде он ни был описан (хоть в самом конце), поднимается до самого верха *своей области видимости*
      - Блока \ модуля \ функции, зависит от того как идентификатор объявлен
  - Зачем это нужно?
    - Например, можно описать функции в самом конце скрипта, а использовать "сверху"
    - Если две функции используют друг друга, то без hoisting это было бы невозможно, потому что та, что описана раньше, не видела бы ту, что описана позже
  - Работает для
    - function declaration
    - Переменных
      - var, let, const
        - Есть различия, см конспект базовый синтаксис > объявление переменных