# Получение результата из промиса

## Метод .then

```javascript
prom.then(
  result => console.log(result),       // Выполнится, если промис fulfilled
  error => console.log(error.message)  // Выполнится, если промис rejected
);
```

Можно передать единственную функцию, только под успешное завершение, а ошибку ловить отдельным методом catch:

```javascript
prom.then(
  result => console.log(result)
);
```

## Метод .catch

```javascript
prom.catch(
  error => console.log(error.message)
);
```

По сути, catch это аналог вот такой конструкции:

```javascript
prom.then(
  null,
  error => console.log(result.message)
);
```

Преимуществом использования catch является то, что если написать вот так:

```javascript
new Promise((resolve, reject) => {
  foobar();
})
  .then(result => console.log(result))
  .catch(error => console.log(result.message));
```

То мы поймаем ошибку в двух местах:

- Если она возникнет в исходном промисе
- Если она возникнет в колбэке из then

При возникновении ошибки она проскакивает все звенья цепочки до первого попавшегося catch (или then, у которого есть второй колбэк). Если там ее не обработать, она полетит до следующего catch и так до тех пор, пока цепочка не закончится. Если в итоге ее так и не обрабоать, то программа не ляжет, но движок сгенерирует событие unhandledrejection. Подробнее об этом в отдельном конспекте, посвященном ошибкам в промисах. А понять, каким образом технически "ошибка перемещается по звеньям цепочки", можно из конспекта по механике промисов и про цепочки промисов.